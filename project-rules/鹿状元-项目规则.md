# 鹿状元收据系统 - 项目规则

> 本文件记录鹿状元项目的重要规范、访问规则、技术栈等信息
> 处理此项目前请先阅读本文档


## 📋 项目基本信息

| 项目 | 详情 |
|------|------|
| **项目名称** | 鹿状元收据系统 (LZY Receipt System) |
| **别名** | 鹿状元、lzy |
| **项目路径** | `/Volumes/SanDisk2T/dv-codeBase/鹿状元/` |
| **生产服务器** | 阿里云 |
| **准生产服务器** | 阿里云 (IP: 8.138.192.106) |
| **生产环境** | https://xiaolu.lantel.net |
| **准生产环境** | https://xiaolu-test.lantel.net |

---

## 🌐 环境地址

| 环境 | 地址 | 用途 |
|------|------|------|
| **生产环境** | https://xiaolu.lantel.net | 正式线上环境 |
| **准生产环境** | https://xiaolu-test.lantel.net | 测试/预发布环境 |

---

## 🛠 技术栈

| 模块 | 技术 |
|------|------|
| **前端 (lzy-vue)** | Vue3 + Tailwind CSS + Pinia |
| **PC管理端 (lzy-pc-admin)** | Vue3 + Element Plus |
| **后端 (lzy-node)** | Node.js + Express |
| **数据库** | MySQL (阿里云RDS / 本地容器) |
| **文件存储** | 阿里云OSS |
| **部署** | Docker (arm64架构) |
| **图片生成** | Puppeteer |

---

## 📁 项目结构

```
/Volumes/SanDisk2T/dv-codeBase/鹿状元/
├── lzy-vue/                 # Vue3移动端前端
├── lzy-node/                # Node.js后端
├── lzy-pc-admin/            # PC管理后台
├── docker/                  # Docker部署配置
├── docs/                    # 项目文档
└── nginx/                   # Nginx配置目录
```

---

## 🚀 开发环境

```bash
cd /Volumes/SanDisk2T/dv-codeBase/鹿状元
bash docker/scripts/init-dev.sh

# 访问地址
# 前端: http://localhost:5173
# 后端: http://localhost:3000/api
```

---

## ☁️ 阿里云资源

### 负载均衡 (SLB)
- **用途**: 请求转发到后端服务器
- **注意**: 需保证账号余额充足，否则会被停机
- **今日事件**: 2026-03-01 因余额不足导致负载均衡停机，已充值 1000 元解决

### 阿里云OSS
- **用途**: 存储收据生成的图片
- **Bucket**: hxcm-oss

---

## 🔐 核心功能

- ✅ **身份验证**: JWT token机制
- ✅ **收据管理**: 创建、查看、管理缴费收据
- ✅ **学员管理**: 学员信息维护
- ✅ **业绩统计**: 咨询师业绩数据追踪
- ✅ **图片生成**: 后端自动生成收据图片

---

## ⚠️ 重要注意事项

### 阿里云账号余额监控
- **问题**: 余额不足会导致负载均衡停机，网站无法访问
- **建议**: 设置余额告警
- **历史**: 2026-03-01 已发生一次停机事件

---

*最后更新: 2026-03-01*
